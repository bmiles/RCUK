(function(){"use strict";angular.module("rcukApp",["ngCookies","ngResource","ngSanitize","ngRoute","ngAnimate","ajoslin.promise-tracker"]).config(["$routeProvider","$locationProvider",function(a){return a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/result/:searchTerm",{templateUrl:"views/result.html",controller:"ResultCtrl"}).when("/person/:id",{templateUrl:"views/person.html",controller:"PersonCtrl"}).otherwise({redirectTo:"/"})}])}).call(this),function(){"use strict";angular.module("rcukApp").controller("MainCtrl",["$scope","$location",function(a,b){return a.showResults=function(a){return console.log(a),b.path("/result/"+a)},a.popularSearches=["Cryopreservation","Nanoparticles","Graphene","Mechatronics","Superhydrophobic Surfaces","Statins","Gene therapy","Traffic control","Computational science","Lymphoma"]}])}.call(this),function(){"use strict";angular.module("rcukApp").factory("Search",["$http",function(a){return{query:function(b,c){return a.get("/search/"+b,{tracker:"resultTracker"}).success(function(a){return c.persons=a})}}}]).factory("Person",["$http","Organisation","Project",function(a,b,c){return{get:function(d,e){return a.get("/api/persons/"+d).success(function(a){var f,g,h,i,j,k,l,m,n,o,p;if(null!=a.PI_PER)for(a.pi=[],n=a.PI_PER,h=0,k=n.length;k>h;h++)g=n[h],c.get(g,a.pi);if(null!=a.COI_PER)for(a.coi=[],o=a.COI_PER,i=0,l=o.length;l>i;i++)g=o[i],c.get(g,a.coi);if(null!=a.EMPLOYED)for(a.employer=[],p=a.EMPLOYED,j=0,m=p.length;m>j;j++)f=p[j],b.get(f,a.employer);return console.log("Person "+d,a),e.person=a})}}}]).factory("Project",["$http",function(a){return{get:function(b,c){return a.get("/api/projects/"+b).success(function(a){return console.log("Project "+b,a),c.push(a)})}}}]).factory("Organisation",["$http",function(a){return{get:function(b,c){return a.get("/api/organisations/"+b).success(function(a){return console.log("Organisation "+b,a),c.push(a)})}}}])}.call(this),function(){"use strict";angular.module("rcukApp").controller("ResultCtrl",["$scope","Search","$routeParams","$location","promiseTracker","$rootScope",function(a,b,c,d,e,f){return f.tracker=e("resultTracker",{minDuration:1e3}),b.query(c.searchTerm,a),a.showPerson=function(a){return console.log(a._id.$oid),d.path("/person/"+a._id.$oid)}}])}.call(this),function(){"use strict";angular.module("rcukApp").directive("mynavbar",function(){return{restrict:"A",templateUrl:"views/myNavbar.html"}})}.call(this),function(){"use strict";angular.module("rcukApp").controller("PersonCtrl",["$scope","Person","$routeParams",function(a,b,c){return b.get(c.id,a)}])}.call(this);